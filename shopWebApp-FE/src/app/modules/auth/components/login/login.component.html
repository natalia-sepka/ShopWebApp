<form [formGroup]="loginForm" (ngSubmit)="onLogin()">
  <div class='form-input'>
    <mat-form-field appearance='fill'>
      <mat-label>Login</mat-label>
      <input matInput [formControl]="controls.login">
      <mat-error *ngIf="controls.login.invalid">{{ getErrorMessage(controls.login) }}</mat-error>
    </mat-form-field>
  </div>
  <div class='form-input'>
    <mat-form-field appearance='fill'>
      <mat-label>Password</mat-label>
      <input type='password' matInput [formControl]="controls.password">
      <mat-error *ngIf="controls.password.invalid">{{ getErrorMessage(controls.password) }}</mat-error>
    </mat-form-field>
  </div>
  <div class="alert alert-warning alert-dismissible fade show mt-2" role="alert" *ngIf="errorMsg$ | async as error">
    {{ error }}
  </div>
  <div class="mt-2" *ngIf="loading$ | async">
    <!--    todo add spinner-->
    Your request is being processed...
  </div>
  <div class='d-flex justify-content-end'>
    <button mat-raised-button color='primary' [disabled]="loginForm.invalid">Log in</button>
  </div>
  <p class='text-center'>Forgot your password? <a routerLink='/reset-password'>Recover your password</a></p>
  <p class='text-center'>Don't have an account? <a routerLink='/register'>Sign up</a></p>
</form>

